{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","value","onChange","placeholder","PersonForm","onSubmit","name","nameChange","number","numberChange","type","Person","person","removePerson","onClick","id","Persons","filter","persons","namesToShow","length","toLowerCase","indexOf","map","key","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","notification","setNotification","status","setStatus","useEffect","personService","initialPersons","Notification","message","className","event","target","preventDefault","personObject","p","find","changedPerson","window","confirm","returnedPerson","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1b54218c.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({value, onChange}) => \r\n<div>filter shown with <input value={value} onChange={onChange} placeholder=\"search for...\"/></div>\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst PersonForm = ({onSubmit, name, nameChange, number, numberChange}) => {\r\n    return (\r\n      <form onSubmit={onSubmit}>\r\n        <div>\r\n          name: <input \r\n            value={name}\r\n            onChange={nameChange}\r\n            placeholder=\"name...\"\r\n          />\r\n        </div>\r\n        <div>\r\n          number: <input \r\n            value={number}\r\n            onChange={numberChange}\r\n            placeholder=\"number...\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n        </form>\r\n    )\r\n  }\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\n\r\nconst Person = ({person, removePerson}) => \r\n    <p>{person.name} {person.number} <button onClick={() => removePerson(person.id)}>delete</button></p>\r\nexport default Person","import React from 'react';\r\nimport Person from './Person.js'\r\n\r\n\r\n\r\nconst Persons = ({filter, persons, removePerson}) => {\r\n\r\n    const namesToShow = filter.length>0 \r\n    ? persons.filter(person => person.name.toLowerCase().indexOf(filter.toLowerCase()) !== -1)\r\n    : persons\r\n    return(\r\n        <div>\r\n        {namesToShow.map((person) => \r\n            <Person key={person.name} person={person} removePerson={removePerson}/>\r\n          )}\r\n        </div>\r\n    )\r\n}\r\nexport default Persons\r\n   ","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter.js'\nimport PersonForm from './components/PersonForm.js'\nimport Persons from './components/Persons.js'\nimport personService from './services/persons'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('');\n  const [notification, setNotification] = useState(null)\n  const [status, setStatus] = useState(true)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n        //console.log(initialPersons);\n      })\n  }, [])\n\n  const handleFilterChange = (event) => {\n    //console.log(event.target.value)\n    setFilter(event.target.value)\n  }\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n    //console.log(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n    //console.log(event.target.value)\n  }\n\n  const removePerson = (id) => {\n    const p = persons.find(person => person.id === id)\n    //console.log(\"removing\");\n\n    if (window.confirm(`Do you want to remove ${p.name} from the list`)) {\n      //console.log(id);\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n          setNotification(`Removed ${p.name} from the list`)\n          setTimeout(() => {\n            setNotification(null)\n          }, 4000)\n        });\n    }\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n    if (persons.filter(person => person.name.toLowerCase() === newName.toLowerCase()).length > 0) {\n      const p = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\n      const changedPerson = { ...p, number: newNumber }\n      if (window.confirm(`${p.name} is already on the list, do you want to replace the old number with a new one?`)) {\n        personService\n          .update(p.id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== p.id ? person : returnedPerson))\n            setStatus(true)\n            setNotification(`${p.name} number changed to ${p.number}`)\n            setTimeout(() => {\n              setNotification(null)\n            }, 4000)\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            setStatus(false);\n            setNotification(\n              `Note '${p.name}' was already removed from server`\n            )\n            setTimeout(() => {\n              setNotification(null)\n            }, 4000)\n            setPersons(persons.filter(person => person.id !== p.id))\n          })\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setStatus(true)\n          setNotification(`${newName} has been added to the list`)\n          setTimeout(() => {\n            setNotification(null)\n          }, 4000)\n          setNewName('')\n          setNewNumber('')\n          setNewName('')\n          setNewNumber('')\n        }).catch(error => {\n          setStatus(false)\n          setNotification(`Error: ${error.response.data.error}`)\n          setTimeout(() => {\n            setNotification(null)\n          }, 4000)\n        })\n    }\n  }\n  const Notification = ({ message, status }) => {\n    if (message === null) {\n      return null\n    }\n    else if (!status) {\n      return (\n        <div className=\"error\">\n          {message}\n        </div>\n      )\n    }\n    else {\n      return (\n        <div className=\"notification\">\n          {message}\n        </div>\n      )\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} status={status} />\n      <Filter value={filter} onChange={handleFilterChange} />\n      <h2>add a new</h2>\n      <PersonForm\n        onSubmit={addPerson}\n        name={newName} nameChange={handleNameChange}\n        number={newNumber} numberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons filter={filter} persons={persons} removePerson={removePerson} />\n    </div>\n  )\n\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n\n\n"],"sourceRoot":""}